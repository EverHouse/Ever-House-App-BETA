1) Fix production crash / routing bug (Express catch-all)

In server/index.ts, the production SPA fallback route is currently:

app.get('/{*path}', ...)


This is not a valid Express route pattern and can crash deployments. Replace it with a valid catch-all:

Use app.get('*', (req,res)=> res.sendFile(...))

Keep it inside if (isProduction) and AFTER all /api/... routers.

Ensure static assets still work (express.static should handle them first).

2) Fix notifications “mark all read” API mismatch

Currently the client calls:
PUT /api/notifications/mark-all-read?user_email=...
But the server route server/routes/notifications.ts expects req.body.user_email.

Pick ONE approach and implement it cleanly:
Option A (preferred): Update the client to send JSON body.

In src/App.tsx, update markAllAsRead() to:

call PUT /api/notifications/mark-all-read

include headers { 'Content-Type': 'application/json' }

body: JSON.stringify({ user_email: user.email })

Option B: Update the server to accept user_email from either query OR body.

If you choose this, keep backwards compatibility.

After the fix, “Mark all read” should work with no 400 error.

3) Fix logos not applying consistently + remove hardcoded logo usage

Stop referencing filenames with spaces like:
/assets/logos/EH-guy logo white.png

Use the existing safe logo files:

/assets/logos/mascot-white.png

/assets/logos/mascot-dark.png

Implement:

In src/config/branding.ts, update BRAND.logos.mascot to use the mascot-*.png files.

In src/pages/Admin/AdminDashboard.tsx, replace the hardcoded <img src="/assets/logos/EH-guy logo white.png"...> with the shared <Logo /> component so Admin header uses the same branding logic.

In src/components/Footer.tsx, replace the hardcoded <img ...> with <Logo /> as well.

Validation / acceptance criteria

App starts in dev without errors.

Production build/deploy no longer crashes due to the catch-all route.

“Mark all read” works (no 400 error; unread count becomes 0).

Logos render in Admin header + Footer, with no dependency on filenames containing spaces.

Return:

List of files changed

A short explanation per change

Any commands to run to verify

PROMPT END